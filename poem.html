<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ARVOLAN • Soft Pages</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      min-height: 100vh;
      padding: 24px 12px 40px;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: #292016;
      overflow-y: auto;
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background:
        radial-gradient(circle at top, rgba(255,255,255,0.45), transparent 55%),
        radial-gradient(circle at bottom, rgba(231,209,255,0.40), transparent 55%),
        linear-gradient(to bottom, rgba(0,0,0,0.10), transparent 35%, transparent 65%, rgba(0,0,0,0.12));
      mix-blend-mode: soft-light;
      opacity: 0.85;
      pointer-events: none;
    }

    .page {
      width: 100%;
      max-width: 520px;
      padding: 32px 24px 40px;
      background: rgba(255,252,245,0.86);
      border-radius: 6px;
      box-shadow: 0 10px 26px rgba(0,0,0,0.2);
      position: relative;
      line-height: 1.9;
    }

    .page::before {
      content: "";
      position: absolute;
      inset: 16px 12px;
      border: 1px solid rgba(0,0,0,0.05);
      pointer-events: none;
      opacity: 0.8;
    }

    .title {
      font-size: 0.92rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      margin-bottom: 18px;
      color: #524337;
    }

    .poem {
      font-family: "Bradley Hand", "Segoe Print", "Comic Sans MS",
          -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      font-size: 1rem;
      line-height: 1.9;
      color: #3a3026;
      white-space: pre-wrap;
    }

    .signature {
      margin-top: 22px;
      font-size: 0.83rem;
      text-align: right;
      letter-spacing: 0.20em;
      text-transform: uppercase;
      opacity: 0.65;
    }

    .copyright {
      margin-top: 8px;
      font-size: 0.65rem;
      text-align: right;
      opacity: 0.45;
    }

    .stamp {
      margin-top: 22px;
      font-size: 0.70rem;
      text-align: right;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      opacity: 0.35;
      font-weight: 500;
    }
  </style>
</head>

<body>

  <div class="page">
    <div id="poemTitle" class="title"></div>
    <div id="poemBody" class="poem"></div>

    <div class="signature">— ARVOLAN</div>
    <div class="copyright">all original writings. copyright © arvolan. all rights reserved.</div>

    <div id="stamp" class="stamp"></div>
  </div>

  <script>
    /* 随机背景 */
    const total = 17;
    const pick = Math.floor(Math.random() * total) + 1;
    const num = String(pick).padStart(2, "0");
    document.body.style.backgroundImage = `url('images/poetry_bg_${num}.jpg')`;

    /* 诗集 */
    const poems = [
      {
        title: "THE ART OF LETTING GO",
        lines: [
          "letting go is not forgetting.",
          "it is not pretending you never cared.",
          "letting go is choosing peace",
          "over the version of love",
          "that kept hurting you.",
          "",
          "it is accepting the truth",
          "instead of rewriting it again and again.",
          "",
          "letting go is unclenching your hands",
          "from what was never yours to hold.",
          "",
          "letting go is grieving the dream",
          "without grieving yourself.",
          "",
          "it is the slow art of returning to yourself—",
          "breath by breath,",
          "until the memories stop burning",
          "and start becoming lessons.",
          "",
          "letting go is not the end.",
          "it is the beginning",
          "of who you will become next."
        ]
      }
      /* … 你的其他诗集保持不变即可 … */
    ];

    /* 打字机效果 */
   function typewriter(text, element) {
  let idx = 0;
  const speed = 120; // 越大越慢，120–160区间最治愈

  function type() {
    if (idx <= text.length) {
      // 每次增加一个字
      element.innerHTML = `
        <span style="opacity:0; transition:opacity 0.8s ease;">${text.slice(0, idx)}</span>
      `;

      // 让最后一个字慢慢从透明变清晰（像浮印效果）
      const span = element.querySelector("span");
      requestAnimationFrame(() => {
        span.style.opacity = 1;
      });

      idx++;
      setTimeout(type, speed);
    }
  }

  type();
}

    /* 显示随机诗 */
    const poem = poems[Math.floor(Math.random() * poems.length)];
    document.getElementById("poemTitle").textContent = poem.title;
    typewriter(poem.lines.join("\n"), document.getElementById("poemBody"));

    /* 地点 + 时间 STAMP */
    function generateStamp() {
      const date = new Date();
      const locale = Intl.DateTimeFormat().resolvedOptions().locale;
      const region = locale.split("-")[1] || "XX";

      const locations = {
        IE: "DUBLIN",
        CN: "BEIJING",
        SG: "SINGAPORE",
        MY: "MALAYSIA",
        US: "USA",
        GB: "LONDON"
      };

      const place = locations[region] || region.toUpperCase();

      const day = date.getDate();
      const month = date.toLocaleString("en-US", { month: "short" }).toUpperCase();
      const year = date.getFullYear();
      const time = date.toLocaleTimeString("en-US", {
        hour: "2-digit",
        minute: "2-digit",
        hour12: false
      });

      return `${place} • ${day} ${month} ${year} • ${time}`;
    }

    document.getElementById("stamp").textContent = generateStamp();
  </script>

</body>
</html>
